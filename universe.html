<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3Då®‡å®™è¡Œæ˜Ÿä»‹ç´¹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            font-family: "å¾®è»Ÿæ­£é»‘é«”", Arial, sans-serif;
            color: #fff;
            background-color: #000;
        }

        #canvas-container {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .planet-info-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            padding: 20px;
            transform: translateY(100%);
            transition: transform 0.5s ease;
            z-index: 10;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            max-height: 50vh;
            overflow-y: auto;
        }

        .planet-info-panel.active {
            transform: translateY(0);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .panel-header h2 {
            font-size: 24px;
            font-weight: 600;
            color: #fff;
        }

        .close-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 24px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-btn:hover {
            color: #ff4757;
        }

        .planet-details {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .detail-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            transition: transform 0.3s, background 0.3s;
        }

        .detail-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.1);
        }

        .detail-card h3 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #ff9f43;
        }

        .detail-card p {
            font-size: 15px;
            line-height: 1.5;
        }

        .planet-desc {
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .loading-screen {
            position: fixed;
            width: 100%;
            height: 100%;
            background-color: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            transition: opacity 1s ease;
        }

        .loading-screen.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top-color: #ff9f43;
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-text {
            font-size: 20px;
            letter-spacing: 2px;
        }

        .instructions {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            padding: 10px 20px;
            border-radius: 30px;
            z-index: 5;
            display: flex;
            align-items: center;
            transition: opacity 0.5s;
        }

        .instructions.fade {
            opacity: 0.2;
        }

        .instructions:hover {
            opacity: 1;
        }

        .instructions span {
            margin: 0 10px;
        }
    </style>
</head>
<body>
    <!-- è¼‰å…¥ç•«é¢ -->
    <div class="loading-screen">
        <div class="spinner"></div>
        <div class="loading-text">è¼‰å…¥å®‡å®™ä¸­...</div>
    </div>

    <!-- æ“ä½œæŒ‡å— -->
    <div class="instructions">
        <span>ğŸ–±ï¸ æ»¾å‹•æ»‘é¼ æ»¾è¼ªåˆ‡æ›è¡Œæ˜Ÿ</span>
        <span>|</span>
        <span>ğŸ‘† é»æ“Šè¡Œæ˜ŸæŸ¥çœ‹è©³æƒ…</span>
        <span>|</span>
        <span>ğŸ”„ æ‹–å‹•ç•«é¢æ—‹è½‰è¦–è§’</span>
    </div>

    <!-- Three.js ç•«å¸ƒå®¹å™¨ -->
    <div id="canvas-container"></div>

    <!-- è¡Œæ˜Ÿè³‡è¨Šé¢æ¿ -->
    <div class="planet-info-panel">
        <div class="panel-header">
            <h2 id="planet-name">è¡Œæ˜Ÿåç¨±</h2>
            <button class="close-btn">&times;</button>
        </div>
        <div class="planet-desc" id="planet-description">è¡Œæ˜Ÿæè¿°å…§å®¹...</div>
        <div class="planet-details" id="planet-details">
            <!-- è¡Œæ˜Ÿè©³ç´°è³‡è¨Šå°‡å‹•æ…‹åŠ å…¥ -->
        </div>
    </div>

    <!-- å¼•å…¥Three.jsåº« - æ›´æ›ç‚ºè¼ƒè€ç‰ˆæœ¬ä»¥ç¢ºä¿å…¼å®¹æ€§ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- ä½¿ç”¨åŒ¹é…çš„OrbitControlsç‰ˆæœ¬ -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>

    <script>
        // è¡Œæ˜Ÿè³‡æ–™
        const planetsData = [
            {
                name: "æ°´æ˜Ÿ",
                color: 0xA9A9A9, // ç°è‰²
                size: 0.38,
                distance: 5,
                rotationSpeed: 0.01,
                description: "æ°´æ˜Ÿæ˜¯å¤ªé™½ç³»ä¸­æœ€å°ä¸”æœ€æ¥è¿‘å¤ªé™½çš„è¡Œæ˜Ÿï¼Œæ²’æœ‰è¡›æ˜Ÿã€‚å®ƒè¡¨é¢å¸ƒæ»¿éš•çŸ³å‘ï¼Œå› ç‚ºæ²’æœ‰å¤§æ°£å±¤ä¿è­·ã€‚æ°´æ˜Ÿçš„æº«å·®éå¸¸å¤§ï¼Œç™½å¤©å¯é”430Â°Cï¼Œå¤œé–“å¯é™è‡³-180Â°Cã€‚",
                details: [
                    { title: "ç›´å¾‘", content: "4,879.4 å…¬é‡Œ" },
                    { title: "è»Œé“é€±æœŸ", content: "88 å¤©" },
                    { title: "è‡ªè½‰é€±æœŸ", content: "58.6 å¤©" },
                    { title: "å¹³å‡æº«åº¦", content: "167Â°C (âˆ’173Â°C è‡³ 427Â°C)" },
                    { title: "è¡¨é¢é‡åŠ›", content: "åœ°çƒçš„ 0.38 å€" },
                    { title: "è¡›æ˜Ÿæ•¸é‡", content: "0" }
                ]
            },
            {
                name: "é‡‘æ˜Ÿ",
                color: 0xE6C8A0, // æ·¡é»ƒè‰²
                size: 0.95,
                distance: 7,
                rotationSpeed: 0.005,
                description: "é‡‘æ˜Ÿæ˜¯å¤ªé™½ç³»ä¸­ç¬¬äºŒé¡†è¡Œæ˜Ÿï¼Œä¹Ÿè¢«ç¨±ç‚ºã€Œåœ°çƒçš„å­¿ç”Ÿå…„å¼Ÿã€ï¼Œå› ç‚ºå®ƒçš„å¤§å°å’Œå¯†åº¦èˆ‡åœ°çƒç›¸ä¼¼ã€‚ç„¶è€Œï¼Œé‡‘æ˜Ÿæ“æœ‰æ¿ƒå¯†çš„äºŒæ°§åŒ–ç¢³å¤§æ°£å±¤ï¼Œé€ æˆåš´é‡çš„æº«å®¤æ•ˆæ‡‰ï¼Œä½¿å…¶è¡¨é¢æº«åº¦é”åˆ°ç´„465Â°Cï¼Œé«˜æ–¼æ°´æ˜Ÿã€‚é‡‘æ˜Ÿçš„è‡ªè½‰æ–¹å‘èˆ‡å…¶ä»–è¡Œæ˜Ÿç›¸åã€‚",
                details: [
                    { title: "ç›´å¾‘", content: "12,104 å…¬é‡Œ" },
                    { title: "è»Œé“é€±æœŸ", content: "225 å¤©" },
                    { title: "è‡ªè½‰é€±æœŸ", content: "243 å¤© (é€†è½‰)" },
                    { title: "å¹³å‡æº«åº¦", content: "462Â°C" },
                    { title: "è¡¨é¢é‡åŠ›", content: "åœ°çƒçš„ 0.9 å€" },
                    { title: "è¡›æ˜Ÿæ•¸é‡", content: "0" }
                ]
            },
            {
                name: "åœ°çƒ",
                color: 0x2E8BC0, // è—è‰²
                cloudColor: 0xFFFFFF, // ç™½è‰²
                size: 1,
                distance: 9,
                rotationSpeed: 0.01,
                description: "åœ°çƒæ˜¯å¤ªé™½ç³»ä¸­ç¬¬ä¸‰é¡†è¡Œæ˜Ÿï¼Œæ˜¯ç›®å‰å·²çŸ¥å”¯ä¸€å­•è‚²å’Œæ”¯æŒç”Ÿå‘½çš„å¤©é«”ã€‚åœ°çƒè¡¨é¢çš„71%è¢«æ°´è¦†è“‹ï¼Œå…¶é¤˜ç‚ºé™¸åœ°ï¼Œæœ‰æ´»èºçš„å¤§æ°£å±¤å’Œç£å ´ï¼Œèƒ½ä¿è­·è¡¨é¢å…å—å¤ªé™½è¼»å°„å’Œå¾®å°éš•çŸ³çš„ä¾µå®³ã€‚åœ°çƒæœ‰ä¸€å€‹è‡ªç„¶è¡›æ˜Ÿâ€”â€”æœˆçƒã€‚",
                details: [
                    { title: "ç›´å¾‘", content: "12,742 å…¬é‡Œ" },
                    { title: "è»Œé“é€±æœŸ", content: "365.25 å¤©" },
                    { title: "è‡ªè½‰é€±æœŸ", content: "23.93 å°æ™‚" },
                    { title: "å¹³å‡æº«åº¦", content: "15Â°C" },
                    { title: "è¡¨é¢é‡åŠ›", content: "9.8 m/sÂ²" },
                    { title: "è¡›æ˜Ÿæ•¸é‡", content: "1 (æœˆçƒ)" }
                ]
            },
            {
                name: "ç«æ˜Ÿ",
                color: 0xC1440E, // ç´…è‰²
                size: 0.53,
                distance: 11,
                rotationSpeed: 0.008,
                description: "ç«æ˜Ÿæ˜¯å¤ªé™½ç³»ä¸­ç¬¬å››é¡†è¡Œæ˜Ÿï¼Œå› è¡¨é¢å¯Œå«æ°§åŒ–éµè€Œå‘ˆç¾ç´…è‰²ï¼Œæ•…æœ‰ã€Œç´…è‰²æ˜Ÿçƒã€ä¹‹ç¨±ã€‚ç«æ˜Ÿæœ‰ç¨€è–„çš„å¤§æ°£å±¤ï¼Œä¸»è¦ç”±äºŒæ°§åŒ–ç¢³çµ„æˆã€‚è¡¨é¢ç‰¹å¾µåŒ…æ‹¬æ’æ“Šå‘ã€ç«å±±ã€å±±è°·ã€æ²™æ¼ å’Œæ¥µåœ°å†°å¸½ã€‚ç§‘å­¸å®¶ç™¼ç¾äº†æ¶²æ…‹æ°´å­˜åœ¨çš„è­‰æ“šï¼Œé€™ä½¿ç«æ˜Ÿæˆç‚ºå°‹æ‰¾åœ°å¤–ç”Ÿå‘½çš„é‡é»ç›®æ¨™ã€‚",
                details: [
                    { title: "ç›´å¾‘", content: "6,779 å…¬é‡Œ" },
                    { title: "è»Œé“é€±æœŸ", content: "687 å¤©" },
                    { title: "è‡ªè½‰é€±æœŸ", content: "24.6 å°æ™‚" },
                    { title: "å¹³å‡æº«åº¦", content: "-65Â°C" },
                    { title: "è¡¨é¢é‡åŠ›", content: "åœ°çƒçš„ 0.38 å€" },
                    { title: "è¡›æ˜Ÿæ•¸é‡", content: "2 (ç«è¡›ä¸€ã€ç«è¡›äºŒ)" }
                ]
            },
            {
                name: "æœ¨æ˜Ÿ",
                color: 0xE0A96D, // æ·ºæ£•è‰²å¸¶æ¢ç´‹
                size: 11.2,
                distance: 16,
                rotationSpeed: 0.02,
                description: "æœ¨æ˜Ÿæ˜¯å¤ªé™½ç³»ä¸­æœ€å¤§çš„è¡Œæ˜Ÿï¼Œè³ªé‡æ˜¯åœ°çƒçš„318å€ã€‚å®ƒæ˜¯ä¸€å€‹æ°£é«”å·¨è¡Œæ˜Ÿï¼Œä¸»è¦ç”±æ°«å’Œæ°¦çµ„æˆï¼Œæ²’æœ‰å›ºé«”è¡¨é¢ã€‚æœ¨æ˜Ÿæœ€é¡¯è‘—çš„ç‰¹å¾µæ˜¯å¤§ç´…æ–‘ï¼Œé€™æ˜¯ä¸€å€‹æŒçºŒæ•¸ç™¾å¹´çš„å·¨å¤§é¢¨æš´ã€‚æœ¨æ˜Ÿè‡³å°‘æœ‰79é¡†è¡›æ˜Ÿï¼Œå…¶ä¸­æœ€è‘—åçš„æ˜¯ä¼½åˆ©ç•¥ç™¼ç¾çš„å››é¡†å¤§è¡›æ˜Ÿï¼šæœ¨è¡›ä¸€ã€æœ¨è¡›äºŒã€æœ¨è¡›ä¸‰å’Œæœ¨è¡›å››ã€‚",
                details: [
                    { title: "ç›´å¾‘", content: "139,820 å…¬é‡Œ" },
                    { title: "è»Œé“é€±æœŸ", content: "11.86 å¹´" },
                    { title: "è‡ªè½‰é€±æœŸ", content: "9.93 å°æ™‚" },
                    { title: "å¹³å‡æº«åº¦", content: "-145Â°C (é›²å±¤é ‚éƒ¨)" },
                    { title: "è¡¨é¢é‡åŠ›", content: "åœ°çƒçš„ 2.4 å€" },
                    { title: "è¡›æ˜Ÿæ•¸é‡", content: "è‡³å°‘ 79 é¡†" }
                ]
            },
            {
                name: "åœŸæ˜Ÿ",
                color: 0xF4D03F, // é»ƒè‰²
                ringColor: 0xF5CBA7, // æ·ºæ©™è‰²
                size: 9.45,
                distance: 21,
                rotationSpeed: 0.018,
                description: "åœŸæ˜Ÿæ˜¯å¤ªé™½ç³»ä¸­ç¬¬äºŒå¤§è¡Œæ˜Ÿï¼Œä»¥å…¶å£¯è§€çš„ç’°ç³»çµ±è€Œèåã€‚é€™äº›ç’°ä¸»è¦ç”±å†°ç²’ã€å¡µåŸƒå’Œå²©çŸ³ç¢ç‰‡çµ„æˆï¼Œç›´å¾‘è¶…é27è¬å…¬é‡Œï¼Œä½†åšåº¦åƒ…ç‚º10-20ç±³ã€‚åœŸæ˜Ÿæ˜¯ä¸€å€‹æ°£é«”å·¨è¡Œæ˜Ÿï¼Œå¯†åº¦ä½æ–¼æ°´ã€‚å®ƒæœ‰è‡³å°‘83é¡†å·²çŸ¥è¡›æ˜Ÿï¼Œæœ€å¤§çš„æ˜¯åœŸè¡›å…­ï¼Œæ˜¯å¤ªé™½ç³»ä¸­å”¯ä¸€ä¸€å€‹æ“æœ‰æ¿ƒå¯†å¤§æ°£å±¤çš„è¡›æ˜Ÿã€‚",
                details: [
                    { title: "ç›´å¾‘", content: "116,460 å…¬é‡Œ" },
                    { title: "è»Œé“é€±æœŸ", content: "29.46 å¹´" },
                    { title: "è‡ªè½‰é€±æœŸ", content: "10.7 å°æ™‚" },
                    { title: "å¹³å‡æº«åº¦", content: "-178Â°C (é›²å±¤é ‚éƒ¨)" },
                    { title: "è¡¨é¢é‡åŠ›", content: "åœ°çƒçš„ 1.07 å€" },
                    { title: "è¡›æ˜Ÿæ•¸é‡", content: "è‡³å°‘ 83 é¡†" },
                    { title: "ç’°ç³»çµ±", content: "å¯¬åº¦ç´„ 270,000 å…¬é‡Œï¼Œåšåº¦åƒ… 10-20 ç±³" }
                ]
            },
            {
                name: "å¤©ç‹æ˜Ÿ",
                color: 0xAED6F1, // æ·ºè—è‰²
                size: 4.01,
                distance: 24,
                rotationSpeed: 0.015,
                description: "å¤©ç‹æ˜Ÿæ˜¯å¤ªé™½ç³»ä¸­ç¬¬ä¸ƒå¤§è¡Œæ˜Ÿï¼Œè¢«åˆ†é¡ç‚ºå†°å·¨è¡Œæ˜Ÿã€‚å®ƒå› å…¶ç¨ç‰¹çš„è‡ªè½‰è»¸è€Œèåï¼Œèˆ‡å…¶è»Œé“å¹³é¢å¹¾ä¹å‚ç›´ï¼Œä½¿å…¶çœ‹èµ·ä¾†åƒæ˜¯ã€Œå´èººã€è‘—æ—‹è½‰ã€‚å¤©ç‹æ˜Ÿçš„å¤§æ°£å±¤ä¸»è¦ç”±æ°«ã€æ°¦å’Œç”²çƒ·çµ„æˆï¼Œç”²çƒ·æ°£é«”å¸æ”¶ç´…å…‰ä¸¦åå°„è—ç¶ è‰²å…‰ï¼Œè³¦äºˆå…¶ç¨ç‰¹çš„è—ç¶ è‰²å¤–è§€ã€‚å¤©ç‹æ˜Ÿæœ‰13å€‹å·²çŸ¥çš„ç’°å’Œ27é¡†å·²çŸ¥çš„è¡›æ˜Ÿã€‚",
                details: [
                    { title: "ç›´å¾‘", content: "50,724 å…¬é‡Œ" },
                    { title: "è»Œé“é€±æœŸ", content: "84.01 å¹´" },
                    { title: "è‡ªè½‰é€±æœŸ", content: "17.24 å°æ™‚" },
                    { title: "å¹³å‡æº«åº¦", content: "-197Â°C" },
                    { title: "è¡¨é¢é‡åŠ›", content: "åœ°çƒçš„ 0.89 å€" },
                    { title: "è¡›æ˜Ÿæ•¸é‡", content: "27" }
                ]
            },
            {
                name: "æµ·ç‹æ˜Ÿ",
                color: 0x3498DB, // æ·±è—è‰²
                size: 3.88,
                distance: 27,
                rotationSpeed: 0.017,
                description: "æµ·ç‹æ˜Ÿæ˜¯å¤ªé™½ç³»ä¸­æœ€é çš„è¡Œæ˜Ÿï¼ˆè‡ªå†¥ç‹æ˜Ÿé™æ ¼å¾Œï¼‰ï¼Œä¹Ÿæ˜¯ç¬¬å…«å¤§è¡Œæ˜Ÿã€‚å®ƒèˆ‡å¤©ç‹æ˜Ÿä¸€æ¨£è¢«åˆ†é¡ç‚ºå†°å·¨è¡Œæ˜Ÿã€‚æµ·ç‹æ˜Ÿçš„å¤§æ°£å±¤å¯Œå«ç”²çƒ·ï¼Œé€™ä½¿å®ƒå‘ˆç¾é®®è±”çš„è—è‰²ã€‚å®ƒæœ‰å¼·çƒˆçš„é¢¨æš´ç³»çµ±ï¼ŒåŒ…æ‹¬ã€Œå¤§é»‘æ–‘ã€ï¼Œé€™æ˜¯ä¸€å€‹é¡ä¼¼æœ¨æ˜Ÿå¤§ç´…æ–‘çš„å·¨å¤§é¢¨æš´å€ã€‚æµ·ç‹æ˜Ÿæœ‰14é¡†å·²çŸ¥çš„è¡›æ˜Ÿï¼Œæœ€å¤§çš„æ˜¯æµ·è¡›ä¸€ï¼Œä½”æµ·ç‹æ˜Ÿè³ªé‡çš„99.5%ã€‚",
                details: [
                    { title: "ç›´å¾‘", content: "49,244 å…¬é‡Œ" },
                    { title: "è»Œé“é€±æœŸ", content: "164.8 å¹´" },
                    { title: "è‡ªè½‰é€±æœŸ", content: "16.11 å°æ™‚" },
                    { title: "å¹³å‡æº«åº¦", content: "-201Â°C" },
                    { title: "è¡¨é¢é‡åŠ›", content: "åœ°çƒçš„ 1.14 å€" },
                    { title: "è¡›æ˜Ÿæ•¸é‡", content: "14" }
                ]
            }
        ];

        // å…¨åŸŸè®Šæ•¸
        let scene, camera, renderer, controls;
        let planets = [], currentPlanetIndex = 0;
        let planetGroup, starsGeometry, starsMaterial, stars;
        let isLoading = true, isTransitioning = false;

        // åˆå§‹åŒ–å ´æ™¯
        function init() {
            // å‰µå»ºå ´æ™¯
            scene = new THREE.Scene();

            // å‰µå»ºç›¸æ©Ÿ
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 15;

            // å‰µå»ºæ¸²æŸ“å™¨
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            // æ·»åŠ è»Œé“æ§åˆ¶
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.rotateSpeed = 0.5;
            controls.minDistance = 5;
            controls.maxDistance = 50;
            controls.enablePan = false;

            // å‰µå»ºç‡ˆå…‰
            const ambientLight = new THREE.AmbientLight(0x333333);
            scene.add(ambientLight);

            const sunLight = new THREE.PointLight(0xffffff, 1.5);
            sunLight.position.set(-30, 0, 0);
            scene.add(sunLight);

            // å‰µå»ºæ˜Ÿç©ºèƒŒæ™¯
            createStars();

            // å‰µå»ºè¡Œæ˜Ÿçµ„
            planetGroup = new THREE.Group();
            scene.add(planetGroup);

            // å‰µå»ºè¡Œæ˜Ÿ
            createPlanets();

            // æ·»åŠ çª—å£èª¿æ•´å¤§å°äº‹ä»¶
            window.addEventListener('resize', onWindowResize);

            // æ·»åŠ æ»¾è¼ªäº‹ä»¶
            window.addEventListener('wheel', onWheel);

            // æ·»åŠ é»æ“Šäº‹ä»¶
            renderer.domElement.addEventListener('click', onCanvasClick);

            // é¢æ¿é—œé–‰æŒ‰éˆ•äº‹ä»¶
            document.querySelector('.close-btn').addEventListener('click', function() {
                document.querySelector('.planet-info-panel').classList.remove('active');
            });

            // å•Ÿå‹•å‹•ç•«å¾ªç’°
            animate();

            // è¨­ç½®åˆå§‹è¡Œæ˜Ÿä½ç½®
            updatePlanetFocus(0, true);

            // 3ç§’å¾Œç§»é™¤è¼‰å…¥ç•«é¢
            setTimeout(() => {
                document.querySelector('.loading-screen').classList.add('fade-out');
                isLoading = false;
            }, 3000);

            // ç”¨æˆ¶äº¤äº’10ç§’å¾Œæ·¡åŒ–æ“ä½œæŒ‡å—
            setTimeout(() => {
                document.querySelector('.instructions').classList.add('fade');
            }, 10000);
        }

        // å‰µå»ºæ˜Ÿç©ºèƒŒæ™¯
        function createStars() {
            starsGeometry = new THREE.BufferGeometry();
            const starsCount = 5000;
            const positions = new Float32Array(starsCount * 3);
            const sizes = new Float32Array(starsCount);

            for (let i = 0; i < starsCount * 3; i += 3) {
                positions[i] = (Math.random() - 0.5) * 2000;
                positions[i + 1] = (Math.random() - 0.5) * 2000;
                positions[i + 2] = (Math.random() - 0.5) * 2000;
                sizes[i / 3] = Math.random() * 2;
            }

            starsGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            starsGeometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));

            // ä½¿ç”¨å…§å»ºçš„ç™½è‰²åœ“é»ä½œç‚ºæ˜Ÿæ˜Ÿç´‹ç†
            const starsMaterial = new THREE.PointsMaterial({
                size: 1,
                sizeAttenuation: true,
                color: 0xffffff,
                transparent: true,
                opacity: 0.8,
                vertexColors: false
            });

            stars = new THREE.Points(starsGeometry, starsMaterial);
            scene.add(stars);
        }

        // å‰µå»ºæ‰€æœ‰è¡Œæ˜Ÿ
        function createPlanets() {
            planetsData.forEach((planetData, index) => {
                // å‰µå»ºè¡Œæ˜Ÿå¹¾ä½•é«”
                const geometry = new THREE.SphereGeometry(planetData.size, 64, 64);

                // å¦‚æœæ˜¯åœ°çƒ, æ·»åŠ ç‰¹æ®Šæ•ˆæœ
                if (planetData.name === "åœ°çƒ" && planetData.cloudColor) {
                    // åœ°çƒä½¿ç”¨æ¨™æº–æè³ª
                    const material = new THREE.MeshStandardMaterial({
                        color: planetData.color,
                        roughness: 0.7,
                        metalness: 0.1
                    });

                    // å‰µå»ºè¡Œæ˜Ÿç¶²æ ¼
                    const planet = new THREE.Mesh(geometry, material);

                    // æ·»åŠ é›²å±¤
                    const cloudsGeometry = new THREE.SphereGeometry(planetData.size * 1.01, 64, 64);
                    const cloudsMaterial = new THREE.MeshPhongMaterial({
                        color: planetData.cloudColor,
                        transparent: true,
                        opacity: 0.3
                    });
                    const clouds = new THREE.Mesh(cloudsGeometry, cloudsMaterial);
                    planet.add(clouds);

                    // è¨­ç½®è¡Œæ˜Ÿä½ç½®
                    const angle = (index / planetsData.length) * Math.PI * 2;
                    planet.position.x = Math.cos(angle) * planetData.distance;
                    planet.position.z = Math.sin(angle) * planetData.distance;

                    // æ·»åŠ åˆ°è¡Œæ˜Ÿçµ„å’Œè¡Œæ˜Ÿæ•¸çµ„
                    planetGroup.add(planet);
                    planets.push({
                        mesh: planet,
                        data: planetData,
                        angle: angle,
                        clouds: clouds
                    });
                } else {
                    // å…¶ä»–è¡Œæ˜Ÿä½¿ç”¨æ¨™æº–æè³ª
                    const material = new THREE.MeshStandardMaterial({
                        color: planetData.color,
                        roughness: 0.7,
                        metalness: 0.1
                    });

                    // å‰µå»ºè¡Œæ˜Ÿç¶²æ ¼
                    const planet = new THREE.Mesh(geometry, material);

                    // è¨­ç½®è¡Œæ˜Ÿä½ç½®
                    const angle = (index / planetsData.length) * Math.PI * 2;
                    planet.position.x = Math.cos(angle) * planetData.distance;
                    planet.position.z = Math.sin(angle) * planetData.distance;

                    // æ·»åŠ åˆ°è¡Œæ˜Ÿçµ„å’Œè¡Œæ˜Ÿæ•¸çµ„
                    planetGroup.add(planet);
                    planets.push({
                        mesh: planet,
                        data: planetData,
                        angle: angle
                    });

                    // å¦‚æœæ˜¯åœŸæ˜Ÿ, æ·»åŠ ç’°
                    if (planetData.name === "åœŸæ˜Ÿ" && planetData.ringColor) {
                        const ringGeometry = new THREE.RingGeometry(planetData.size * 1.4, planetData.size * 2.2, 64);
                        const ringMaterial = new THREE.MeshBasicMaterial({
                            color: planetData.ringColor,
                            side: THREE.DoubleSide,
                            transparent: true,
                            opacity: 0.7
                        });

                        const ring = new THREE.Mesh(ringGeometry, ringMaterial);
                        ring.rotation.x = Math.PI / 2;
                        planet.add(ring);
                    }
                }
            });
        }

        // è™•ç†æ»¾è¼ªäº‹ä»¶
        function onWheel(event) {
            if (isTransitioning) return;
            isTransitioning = true;

            // éš±è—è¡Œæ˜Ÿè³‡è¨Šé¢æ¿
            document.querySelector('.planet-info-panel').classList.remove('active');

            // æ ¹æ“šæ»¾è¼ªæ–¹å‘åˆ‡æ›ç„¦é»è¡Œæ˜Ÿ
            const delta = Math.sign(event.deltaY);
            let newIndex = currentPlanetIndex + delta;

            // å¾ªç’°ç´¢å¼•ç¯„åœ
            if (newIndex < 0) newIndex = planets.length - 1;
            if (newIndex >= planets.length) newIndex = 0;

            // æ›´æ–°ç„¦é»è¡Œæ˜Ÿ
            updatePlanetFocus(newIndex);
        }

        // æ›´æ–°ç„¦é»è¡Œæ˜Ÿ
        function updatePlanetFocus(index, instant = false) {
            currentPlanetIndex = index;
            const planet = planets[index];

            // ç›¸æ©Ÿç›®æ¨™ä½ç½® (èª¿æ•´ç‚ºè¼ƒå¥½çš„è§€å¯Ÿè§’åº¦)
            const targetPosition = {
                x: planet.mesh.position.x * 0.6,
                y: planet.mesh.position.y * 0.3,
                z: planet.mesh.position.z * 0.6
            };

            // æ›´æ–°æ§åˆ¶ä¸­å¿ƒ
            controls.target.copy(planet.mesh.position);

            // ä½¿ç”¨GSAPè£½ä½œå¹³æ»‘éæ¸¡
            const duration = instant ? 0 : 1.5;

            gsap.to(camera.position, {
                x: targetPosition.x,
                y: targetPosition.y,
                z: targetPosition.z,
                duration: duration,
                ease: "power2.inOut",
                onComplete: function() {
                    isTransitioning = false;
                }
            });
        }

        // è™•ç†ç•«å¸ƒé»æ“Šäº‹ä»¶
        function onCanvasClick(event) {
            event.preventDefault();

            // è¨ˆç®—æ»‘é¼ ä½ç½®
            const mouse = new THREE.Vector2();
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

            // å‰µå»ºå°„ç·š
            const raycaster = new THREE.Raycaster();
            raycaster.setFromCamera(mouse, camera);

            // æª¢æ¸¬äº¤å‰é»
            const intersects = raycaster.intersectObjects(planetGroup.children, true);

            if (intersects.length > 0) {
                // æ‰¾åˆ°é»æ“Šçš„è¡Œæ˜Ÿ
                let clickedPlanet = null;
                let clickedObject = intersects[0].object;

                // è™•ç†é»æ“Šç’°çš„æƒ…æ³
                if (clickedObject.parent && clickedObject.parent !== planetGroup) {
                    clickedObject = clickedObject.parent;
                }

                // å°‹æ‰¾å°æ‡‰çš„è¡Œæ˜Ÿæ•¸æ“š
                for (let i = 0; i < planets.length; i++) {
                    if (planets[i].mesh === clickedObject) {
                        clickedPlanet = planets[i];
                        break;
                    }
                }

                if (clickedPlanet) {
                    // é¡¯ç¤ºè¡Œæ˜Ÿè³‡è¨Š
                    showPlanetInfo(clickedPlanet.data);
                }
            }
        }

        // é¡¯ç¤ºè¡Œæ˜Ÿè³‡è¨Š
        function showPlanetInfo(planetData) {
            // æ›´æ–°é¢æ¿å…§å®¹
            document.getElementById('planet-name').textContent = planetData.name;
            document.getElementById('planet-description').textContent = planetData.description;

            // æ¸…ç©ºä¸¦é‡æ–°å¡«å……è©³ç´°ä¿¡æ¯
            const detailsContainer = document.getElementById('planet-details');
            detailsContainer.innerHTML = '';

            // æ·»åŠ æ¯å€‹è©³ç´°è³‡è¨Šå¡ç‰‡
            planetData.details.forEach(detail => {
                const card = document.createElement('div');
                card.className = 'detail-card';

                const title = document.createElement('h3');
                title.textContent = detail.title;

                const content = document.createElement('p');
                content.textContent = detail.content;

                card.appendChild(title);
                card.appendChild(content);
                detailsContainer.appendChild(card);
            });

            // é¡¯ç¤ºé¢æ¿
            document.querySelector('.planet-info-panel').classList.add('active');
        }

        // è™•ç†çª—å£å¤§å°èª¿æ•´
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // å‹•ç•«å¾ªç’°
        function animate() {
            requestAnimationFrame(animate);

            // æ—‹è½‰è¡Œæ˜Ÿ
            planets.forEach(planet => {
                planet.mesh.rotation.y += planet.data.rotationSpeed / 5;

                // å¦‚æœæ˜¯åœ°çƒï¼Œé¡å¤–æ—‹è½‰é›²å±¤
                if (planet.clouds) {
                    planet.clouds.rotation.y += planet.data.rotationSpeed / 8;
                }
            });

            // æ…¢æ…¢æ—‹è½‰æ˜Ÿç©º
            if (stars) {
                stars.rotation.y += 0.0002;
            }

            // æ›´æ–°æ§åˆ¶å™¨
            controls.update();

            // æ¸²æŸ“å ´æ™¯
            renderer.render(scene, camera);
        }

        // ç•¶é é¢è¼‰å…¥å®Œæˆå¾Œåˆå§‹åŒ–
        window.addEventListener('load', init);
    </script>
</body>
</html>
